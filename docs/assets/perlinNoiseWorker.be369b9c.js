!function(){"use strict";function n(){return(n=Object.assign||function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n}).apply(this,arguments)}var t=function(n,t,e){return n*(1-e)+t*e},e=function(n){return n},r=function(n){return n*n*(3-2*n)},i=function(n){return n*n*n*(10+n*(6*n-15))},o=function(n){return(Math.sin((n-.5)*Math.PI)+1)/2},a=Number.EPSILON/2,u=Math.pow(2,-32),c=function(n){void 0===n&&(n=""+Date.now());var t,e=(t=4022871197,function(n){n=n.toString();for(var e=0;e<n.length;e++){var r=.02519603282416938*(t+=n.charCodeAt(e));r-=t=r>>>0,t=(r*=t)>>>0,t+=4294967296*(r-=t)}return(t>>>0)*u}),r=[e(" "),e(" "),e(" "),1];r[0]-=e(n),r[0]<0&&(r[0]+=1),r[1]-=e(n),r[1]<0&&(r[1]+=1),r[2]-=e(n),r[2]<0&&(r[2]+=1);var i={random:function(){var n=2091639*r[0]+r[3]*u;return r[0]=r[1],r[1]=r[2],r[2]=n-(r[3]=Math.floor(n))},uint32:function(){return 4294967296*i.random()},fract53:function(){return i.random()+Math.trunc(2097152*i.random())*a},exportState:function(){return{seed0:r[0],seed1:r[1],seed2:r[2],constant:r[3]}},importState:function(n){var t=[n.seed0,n.seed1,n.seed2,n.constant];r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3]}};return i};c().random;var f,s,z=function(n,t){return(n%t+t)%t},S=function(n,t){return n[0]*t[0]+n[1]*t[1]+n[2]*t[2]};f=function(n){void 0===n&&(n=1e3);for(var t=Array.from({length:n}).fill(!0),e=Math.sqrt(n),r=[],i=2;i<n;i++)if(t[i])if(i<=e){r.push(i);for(var o=2*i;o<n;o+=i)t[o]=!1}else r.push(i);return r}(Math.pow(2,17)),s=Math.pow(2,15),f.filter((function(n){return n>=s}));var h={xSize:0,blendFunction:i,seed:1178409733},d=n({},h,{ySize:h.xSize}),l=n({},d,{zSize:d.ySize});Array.from({length:8}).map((function(n,t){return 2*Math.PI/8*t})).map((function(n){return[Math.cos(n)*Math.SQRT1_2,Math.sin(n)*Math.SQRT1_2]}));var v=function(n){return function(n){return n.xSize&&"number"==typeof n.xSize&&(n.xSize=Math.ceil(n.xSize)),"ySize"in n&&n.ySize&&"number"==typeof n.ySize&&(n.ySize=Math.ceil(n.ySize)),"zSize"in n&&n.zSize&&"number"==typeof n.zSize&&(n.zSize=Math.ceil(n.zSize)),n.seed&&!n.random&&(n.random=c(n.seed.toString()).random),n}(n)},M={blendFunction:r,xSize:0,seed:5678990},m=n({},M,{ySize:M.xSize});n({},m,{zSize:M.xSize});const p=(n,t,e,r,i,o,a=500)=>{for(let u=t;u<t+r;u+=1)o.fill(i,4*n+4*u*a,4*(n+e)+4*u*a);return o};let y,x=[500,500,(n,t,e)=>.5];const g=(n="hermite")=>{switch(n){case"trig":return o;case"hermite":return r;case"quintic":return i;case"linear":return e;default:return r}};self.addEventListener("message",(e=>{var r;const i=e.data;var o,a,u,c,f,s,h,d,M,m,p;(null==(r=i.constructor)?void 0:r.canvasHeight)&&(y=new Uint8ClampedArray(4*i.constructor.canvaswidth*i.constructor.canvasHeight),x=[i.constructor.canvaswidth,i.constructor.canvasHeight,(p=i.constructor,p||(p={canvasHeight:500,canvaswidth:500,xSize:0,ySize:0,zSize:0,interpolation:"hermite",forceHigh:!1,forceLow:!1}),o={xSize:p.xSize,ySize:p.ySize,zSize:p.zSize,blendFunction:g(p.interpolation)},u=v(n({},l,o)),a=function(n,t){void 0===t&&(t=4095);for(var e=[],r=1/Math.sqrt(3),i=0;i<=t;i++){var o=n()*Math.PI*2,a=Math.acos(2*n()-1),u=r*Math.sin(a)*Math.cos(o),c=r*Math.sin(a)*Math.sin(o),f=r*Math.cos(a);e.push([u,c,f])}return e}(u.random,4095),c=function(n,t,e){return a[4095&(r=e,i=t,o=n,4103*(251*r^239*i^241*o))];var r,i,o},f=u.xSize?function(n){return z(n,u.xSize)}:function(n){return n},s=u.xSize?function(n){return n+1>=u.xSize?0:n+1}:function(n){return n+1},h=u.ySize?function(n){return z(n,u.ySize)}:function(n){return n},d=u.ySize?function(n){return n+1>=u.ySize?0:n+1}:function(n){return n+1},M=u.zSize?function(n){return z(n,u.zSize)}:function(n){return n},m=u.zSize?function(n){return n+1>=u.zSize?0:n+1}:function(n){return n+1},function(n,e,r){var i=Math.floor(n),o=Math.floor(e),a=Math.floor(r),z=n-i,l=e-o,v=r-a,p=u.blendFunction(z),y=u.blendFunction(l),x=u.blendFunction(v),g=f(i),b=s(g),w=h(o),F=d(w),H=M(a),I=m(H),P=c(g,w,H),A=c(g,w,I),O=c(g,F,H),q=c(g,F,I),L=c(b,w,H),j=c(b,w,I),C=c(b,F,H),D=c(b,F,I),E=S(P,[z,l,v]),N=S(A,[z,l,v-1]),Q=S(O,[z,l-1,v]),R=S(q,[z,l-1,v-1]),T=S(L,[z-1,l,v]),_=S(j,[z-1,l,v-1]),U=S(C,[z-1,l-1,v]),k=S(D,[z-1,l-1,v-1]);return t(t(t(E,N,x),t(Q,R,x),y),t(t(T,_,x),t(U,k,x),y),p)+.5})]),i.update&&self.postMessage(b(i.update.frame))}));const b=n=>{const[t,e,r]=x;for(let i=0;i<t;i+=2)for(let t=0;t<e;t+=2){const e=Math.floor(255*r(i/20+n/75,t/20+n/100,n/50));p(i,t,2,2,e,y)}return new ImageData(y,500,500)}}();
