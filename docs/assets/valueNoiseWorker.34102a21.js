!function(){"use strict";const e=(e,t,n)=>e*(1-n)+t*n,t=(t,n,r,i,o,a)=>e(e(t,r,o),e(n,i,o),a),n=e=>e,r=e=>e*e*(3-2*e),i=e=>e*e*e*(10+e*(6*e-15)),o=Number.EPSILON/2,a=4294967296,s=2**-32,z=(e=`${Date.now()}`)=>{const t=(()=>{let e=4022871197;return t=>{t=t.toString();for(var n=0;n<t.length;n++){e+=t.charCodeAt(n);var r=.02519603282416938*e;e=r>>>0,r-=e,e=(r*=e)>>>0,e+=(r-=e)*a}return(e>>>0)*s}})(),n=[t(" "),t(" "),t(" "),1];n[0]-=t(e),n[0]<0&&(n[0]+=1),n[1]-=t(e),n[1]<0&&(n[1]+=1),n[2]-=t(e),n[2]<0&&(n[2]+=1);const r={random:()=>{const e=2091639*n[0]+n[3]*s;return n[0]=n[1],n[1]=n[2],n[2]=e-(n[3]=Math.floor(e))},uint32:()=>r.random()*a,fract53:()=>r.random()+Math.trunc(2097152*r.random())*o,exportState:()=>({seed0:n[0],seed1:n[1],seed2:n[2],constant:n[3]}),importState:e=>{[n[0],n[1],n[2],n[3]]=[e.seed0,e.seed1,e.seed2,e.constant]}};return r};z().random;const c=(e,t)=>(e%t+t)%t;((e=1e3)=>{const t=Array.from({length:e}).fill(!0),n=Math.sqrt(e),r=[];for(let i=2;i<e;i++)if(t[i])if(i<=n){r.push(i);for(let n=2*i;n<e;n+=i)t[n]=!1}else r.push(i);return r})(2**17).filter((e=>e>=32768)),Array.from({length:8}).map(((e,t)=>2*Math.PI/8*t)).map((e=>[Math.cos(e)*Math.SQRT1_2,Math.sin(e)*Math.SQRT1_2]));const S={blendFunction:r,xSize:0,seed:5678990},l={...{...S,ySize:S.xSize},zSize:S.xSize},u=n=>{const r=(e=>(e.xSize&&"number"==typeof e.xSize&&(e.xSize=Math.ceil(e.xSize)),"ySize"in e&&e.ySize&&"number"==typeof e.ySize&&(e.ySize=Math.ceil(e.ySize)),"zSize"in e&&e.zSize&&"number"==typeof e.zSize&&(e.zSize=Math.ceil(e.zSize)),e.seed&&!e.random&&(e.random=z(e.seed.toString()).random),e))({...l,...n}),i=(e=>{const t=new Float32Array(4096).map((()=>e()));return(e,n,r)=>t[4095&((e,t,n)=>4103*(251*e^239*t^241*n))(e,n,r)]})(r.random),o=r.xSize?e=>c(e,r.xSize):e=>e,a=r.xSize?e=>e+1>=r.xSize?0:e+1:e=>e+1,s=r.ySize?e=>c(e,r.ySize):e=>e,S=r.ySize?e=>e+1>=r.ySize?0:e+1:e=>e+1,u=r.zSize?e=>c(e,r.zSize):e=>e,d=r.zSize?e=>e+1>=r.zSize?0:e+1:e=>e+1;return(n,z,c)=>{const l=Math.floor(n),h=Math.floor(z),f=Math.floor(c),m=o(l),y=s(h),p=u(f),M=a(m),x=S(y),g=d(p),v=n-l,b=z-h,w=c-f,F=r.blendFunction(v),A=r.blendFunction(b),H=r.blendFunction(w);return I=i(m,y,p),L=i(m,x,p),q=i(M,y,p),C=i(M,x,p),D=i(m,y,g),E=i(m,x,g),N=i(M,y,g),P=i(M,x,g),T=H,e(t(I,L,q,C,Q=F,R=A),t(D,E,N,P,Q,R),T);var I,L,q,C,D,E,N,P,Q,R,T}},d=(e,t,n,r,i,o,a=500)=>{for(let s=t;s<t+r;s+=1)o.fill(i,4*e+4*s*a,4*(e+n)+4*s*a);return o};let h=[500,500,(e,t,n)=>.5];const f=(e="hermite")=>{switch(e){case"hermite":return r;case"quintic":return i;case"linear":return n;default:return r}};self.addEventListener("message",(e=>{var t;const n=e.data;var r;(null==(t=n.constructor)?void 0:t.canvasHeight)&&(h=[n.constructor.canvaswidth,n.constructor.canvasHeight,u((r=n.constructor,r||(r={canvasHeight:500,canvaswidth:500,xSize:0,ySize:0,zSize:0,interpolation:"hermite",forceHigh:!1,forceLow:!1}),{xSize:r.xSize,ySize:r.ySize,zSize:r.zSize,blendFunction:f(r.interpolation)}))]),n.update&&self.postMessage(m(n.update.frame))}));const m=e=>{const[t,n,r]=h,i=new Uint8ClampedArray(4*t*n);for(let o=0;o<t;o+=4)for(let t=0;t<n;t+=4){const n=Math.floor(255*r(o/20+e/75,t/20+e/100,e/50));d(o,t,4,4,n,i)}return new ImageData(i,500,500)}}();
