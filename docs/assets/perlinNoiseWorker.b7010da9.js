!function(){"use strict";const e=(e,t,n)=>e*(1-n)+t*n,t=(t,n,r,i,o,a)=>e(e(t,r,o),e(n,i,o),a),n=e=>e,r=e=>e*e*(3-2*e),i=e=>e*e*e*(10+e*(6*e-15)),o=e=>(Math.sin((e-.5)*Math.PI)+1)/2,a=Number.EPSILON/2,s=4294967296,c=2**-32,z=(e=`${Date.now()}`)=>{const t=(()=>{let e=4022871197;return t=>{t=t.toString();for(var n=0;n<t.length;n++){e+=t.charCodeAt(n);var r=.02519603282416938*e;e=r>>>0,r-=e,e=(r*=e)>>>0,e+=(r-=e)*s}return(e>>>0)*c}})(),n=[t(" "),t(" "),t(" "),1];n[0]-=t(e),n[0]<0&&(n[0]+=1),n[1]-=t(e),n[1]<0&&(n[1]+=1),n[2]-=t(e),n[2]<0&&(n[2]+=1);const r={random:()=>{const e=2091639*n[0]+n[3]*c;return n[0]=n[1],n[1]=n[2],n[2]=e-(n[3]=Math.floor(e))},uint32:()=>r.random()*s,fract53:()=>r.random()+Math.trunc(2097152*r.random())*a,exportState:()=>({seed0:n[0],seed1:n[1],seed2:n[2],constant:n[3]}),importState:e=>{[n[0],n[1],n[2],n[3]]=[e.seed0,e.seed1,e.seed2,e.constant]}};return r};z().random;const S=(e,t)=>(e%t+t)%t,h=(e,t)=>e[0]*t[0]+e[1]*t[1]+e[2]*t[2],u=((e=1e3)=>{const t=Array.from({length:e}).fill(!0),n=Math.sqrt(e),r=[];for(let i=2;i<e;i++)if(t[i])if(i<=n){r.push(i);for(let n=2*i;n<e;n+=i)t[n]=!1}else r.push(i);return r})(2**17).filter((e=>e>=32768));const l={xSize:0,blendFunction:i,seed:1178409733},d=1-Number.EPSILON,f={...l,ySize:l.xSize},M={...f,zSize:f.ySize};Array.from({length:8}).map(((e,t)=>2*Math.PI/8*t)).map((e=>[Math.cos(e)*Math.SQRT1_2,Math.sin(e)*Math.SQRT1_2]));const m=n=>{const r=(e=>(e=>(e.xSize&&"number"==typeof e.xSize&&(e.xSize=Math.ceil(e.xSize)),"ySize"in e&&e.ySize&&"number"==typeof e.ySize&&(e.ySize=Math.ceil(e.ySize)),"zSize"in e&&e.zSize&&"number"==typeof e.zSize&&(e.zSize=Math.ceil(e.zSize)),e.seed&&!e.random&&(e.random=z(e.seed.toString()).random),e))(e))({...M,...n}),i=(e=>{const t=((e,t=4095)=>{const n=[],r=1/Math.sqrt(3);for(let i=0;i<=t;i++){const t=e()*Math.PI*2,i=Math.acos(2*e()-1),o=r*Math.sin(i)*Math.cos(t),a=r*Math.sin(i)*Math.sin(t),s=r*Math.cos(i);n.push([o,a,s])}return n})(e,4095);return(e=>{u[Math.floor(u.length*e())]})(e),(e,n,r)=>{return t[4095&(i=r,o=n,a=e,4103*(251*i^239*o^241*a))];var i,o,a}})(r.random),o=r.xSize?e=>S(e,r.xSize):e=>e,a=r.xSize?e=>e+1>=r.xSize?0:e+1:e=>e+1,s=r.ySize?e=>S(e,r.ySize):e=>e,c=r.ySize?e=>e+1>=r.ySize?0:e+1:e=>e+1,l=r.zSize?e=>S(e,r.zSize):e=>e,f=r.zSize?e=>e+1>=r.zSize?0:e+1:e=>e+1;return(n,z,S)=>{const u=Math.floor(n),M=Math.floor(z),m=Math.floor(S),y=o(u),p=s(M),g=l(m),x=a(y),v=c(p),b=f(g),w=n-u,I=z-M,F=S-m,P=r.blendFunction(w),A=r.blendFunction(I),H=r.blendFunction(F),L=i(y,p,g),N=i(y,p,b),q=i(y,v,g),E=i(y,v,b),C=i(x,p,g),D=i(x,p,b),O=i(x,v,g),Q=i(x,v,b),R=h(L,[w,I,F]),T=h(N,[w,I,F-1]),_=h(q,[w,I-1,F]),U=h(E,[w,I-1,F-1]),$=h(C,[w-1,I,F]),j=h(D,[w-1,I,F-1]),k=h(O,[w-1,I-1,F]),B=(G=T,J=U,K=j,V=h(Q,[w-1,I-1,F-1]),Y=H,e(t(R,_,$,k,W=P,X=A),t(G,J,K,V,W,X),Y));var G,J,K,V,W,X,Y;return Math.min(B+.5,d)}},y=(e,t,n,r,i,o,a=500)=>{for(let s=t;s<t+r;s+=1)o.fill(i,4*e+4*s*a,4*(e+n)+4*s*a);return o};let p=[500,500,(e,t,n)=>.5];const g=(e="hermite")=>{switch(e){case"trig":return o;case"hermite":return r;case"quintic":return i;case"linear":return n;default:return r}};self.addEventListener("message",(e=>{var t;const n=e.data;var r;(null==(t=n.constructor)?void 0:t.canvasHeight)&&(p=[n.constructor.canvaswidth,n.constructor.canvasHeight,m((r=n.constructor,r||(r={canvasHeight:500,canvaswidth:500,xSize:0,ySize:0,zSize:0,interpolation:"hermite",forceHigh:!1,forceLow:!1}),{xSize:r.xSize,ySize:r.ySize,zSize:r.zSize,blendFunction:g(r.interpolation)}))]),n.update&&self.postMessage(x(n.update.frame))}));const x=e=>{const[t,n,r]=p,i=new Uint8ClampedArray(4*t*n);for(let o=0;o<t;o+=2)for(let t=0;t<n;t+=2){const n=Math.floor(255*r(o/20+e/75,t/20+e/100,e/50));y(o,t,2,2,n,i)}return new ImageData(i,500,500)}}();
